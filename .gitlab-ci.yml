stages:
   - build
   - deploy
build react-app:  
   image: node:17.4.0-alpine3.14
     
   stage: build  
   only:    
      - master  
   script:
      # Set PATH
      - export PATH=$PATH:/usr/bin/npm    
      # Install dependencies    
      - npm install    
      # Build App    
      - CI=false npm run build  
   artifacts:    
      paths:      
         # Build folder      
         - build/    
      expire_in: 1 hour
deploy prod:
   image: python:latest
   stage: deploy
   only:
      - master
   script:
      - pip3 install awscli
      - aws s3 sync ./build s3://pocker-frontend-develop
